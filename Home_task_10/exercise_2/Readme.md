## Опис запропонованого рішення

Задачу вирішено на основі патерна ```Visitor```. 

В ролі відвідувача виступає клас ```internal class DeliveryCalculator : IDeliveryCalculator```, який імплементує інтерфейс ```interface IDeliveryCalculator```.

В ролі конкретних об'єктів виступають 6 класів різних типів товарів, які наслідують базовий клас ```class Product : IProduct```, який імплементує інтерфейс ```interface IProduct```:
 - ```class FoodProduct : Product``` - клас харчових продуктів;
 - ```class ElectronicsProduct : Product``` - клас електроніки;
 - ```class ClothesProduct : Product``` - клас одягу;
 - ```class HouseholdProduct : Product``` - клас домашніх товарів;
 - ```class HygieneProduct : Product``` - клас гігієнічних товарів;
 - ```class AppliancesProduct : Product``` - клас побутової техніки;

Для опису кожного типу продукту і його основних характеристик використовується клас ```class ProductType```. Даний клас зберігає в собі інформацію про характерні для даного типу продукту особливості які впливають на вартість доставки.
Кожен клас ```class Product : IProduct``` зберігає в собі екземпляр конкретно його типу продукту.

Для відображеного створеного елементу доставки, для якого потрібно розрахувати вартість доставки, використовується клас ```class DeliveryItem```. Даний клас зберігає в собі один конкретний продукт який потребує доставки і масив особливостей для даної доставки. При внесенні особливостей до доставки перевіряється чи відповідають внесені особливості з особливостями які є характерні для внесеного раніше продукту.

Для виконання організації роботи по розрахунку доставки, використовується клас ```class DeliveryProvider```. Через метод ```public void LoadItem()``` даного класу виконується виклик завантаження інформації про доставки, товари, особливості і типи товарів з текстових файлів з використанням класу ```static class DataLoader``` і ```static class DB```. В ```class DeliveryProvider``` зберігються всі зареєсвтровані екземпляри доставок, які пройшли валідацію і парсинг - ```class DeliveryItem```, а також екземпляр відвідувача ```internal class DeliveryCalculator : IDeliveryCalculator```. Організація розрахунку вартості доставки викликається методом ```public void CalculateDelivery()```, в якому екземпляр відвідувача передається в зареєстровану доставку, яка в свою чергу передає відвідувача безпосередньо до цільового товару.

Парсинг інформації зчитаних з тектових файлів виконується класом ```static class DataLoader```. Клас реалізовує комплексне зчитування пов'язаних сутностей з файлів, їх валідацію і прасинг.

Для безпосередньої роботи з тектовими файлами створено клас ```static class DB```, який має методи зчитування, запису і  очищення вказаних файлів. Має вкладений клас ```static class PathData```, який виконує тільки одну функцію - зберігає в своїх полях шлях до робочих файлів.

### Файлова система

Для збергіання даних використовуються 4 текстові файли:
- ```type_product.txt``` - зберігає інформацію про зареєстровані типи товарів;
- ```features_product.txt``` - збергіає інформацію про зареєстровані особливості товарів, які впливають на вартість доставки;
- ```product.txt``` - зберігають інформацію про стоврені товари;
- ```delivery_product.txt``` - збергіаєть інформацію про зареєстровані доставки для яких потрібно розрахувати вартість доставки відповідно до товару і його особливостей.

Одна доставка містить в собі інформацію про товар і його поточні особливості. Один товар містить в собі інформацію про товар та інформацію про його тип.

### Вміст файлу ```type_product.txt```
Інформація про типи товарів в файлі ```type_product.txt``` зберігається в наступному форматі:
///```Id;Type Name;Array of ID of Features;Discount```///

```
1;Food;0 1 2 4 6;1,05
2;Electronics;0 2 5;0
3;Clothes;0 3;1,02
4;Household goods;0 7 8;0
5;Personal hygiene;0;0
6;Household appliances;0 2 5;1,1
```

### Вміст файлу ```features_product.txt```
Інформація про можливі особливості товарів в файлі ```features_product.txt``` зберігається в наступному форматі:
///```Id;Feature Name;Delivery multiplier;Additional delivery costs```///

```
1;Perishes quickly;1,3;0
2;Fragile;1,2;1,1
3;No hard packaging;1,1;1,05
4;In liquid form;1,25;1,5
5;Oversized;1,35;1,1
6;Transport in refrigerators;1,5;0
7;Hazardous substances;1,65;0
8;Inflammable;1,42;1,1
```

### Вміст файлу ```product.txt```
Інформація про товари в файлі ```product.txt``` зберігається в наступному форматі:
///```Id;Product Name;ID of Type product;Length;Width;Height;Weight```///

Тут ```ID of Type product``` значення є посиланням на ідшник типу товару з файлу ```type_product.txt```.

```
1;Soup;1;50;60;45;0,25
2;Plasma TV;2;1050;150;750;10
3;Pants;3;250;400;20;0,35
4;Detergent;4;100;30;180;0,45
5;Soap;5;80;40;20;0,1
6;Refrigerator;6;700;800;2000;150
7;Refrigerator_Wrong;;700;800;2000;150      ------ невалідний - не вказаний тип товару*
8;Icecream_Worng;1;50;60;45;                ------ невалідний - не вказана вага товару*
9;Icecream;1;50;60;45;0,4
```
```*```- наведено для прикладу

### Вміст файлу ```delivery_product.txt```
Інформація про доставки в файлі ```delivery_product.txt``` зберігається в наступному форматі:
///```Id;ID Product;Array of ID Features```///

Тут ```ID Product``` значення є посиланням на ідшник товару з файлу ```product.txt```.
Тут ```Array of ID Features``` масив значеннь, які є посиланням на ідшник особливості з файлу ```features_product.txt```.

```
1;1;1 4 6
2;2;2 5
3;3;3
4;4;7 8
5;5;0
6;6;2 5
7;1;15 4 6              ------ невалідний - вказаний ІD = 15 особливості не існує*
8;99;15 4 6             ------ невалідний - вказаний ІD = 99 товару не існує (ІD = 15 особливості те саме)*
9;4;8
10;7;15 4 6             ------ невалідний - вказаний товар за ІD = 7 не валідний*
11;4;                   ------ невалідний - не вказано жодного IDсосбливості*
12;8;1 6                ------ невалідний - вказаний товар за ІD = 8 не валідний*
13;9;1 6
```
```*```- наведено для прикладу

## Вивід в консоль результатів
![screenshot](output.png)